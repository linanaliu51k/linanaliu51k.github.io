(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{259:function(s,i,t){"use strict";t.r(i);var e=t(0),a=Object(e.a)({},function(){var s=this,i=s.$createElement,t=s._self._c||i;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"cookie-与-session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie-与-session","aria-hidden":"true"}},[s._v("#")]),s._v(" cookie 与 session")]),s._v(" "),t("h4",{attrs:{id:"session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#session","aria-hidden":"true"}},[s._v("#")]),s._v(" session")]),s._v(" "),t("p",[s._v("session的一些问题")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("目前session直接是js变量，放在nodejs进程内存中")]),s._v(" "),t("li",[s._v("第一，进程内存有限，访问量过大，内存暴增怎么办？")]),s._v(" "),t("li",[s._v("第二，正式线上运行是多进程, 进程之间内存无法共享")])])]),s._v(" "),t("img",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{src:s.$withBase("/images/process.png"),alt:"process"}}),s._v(" "),t("img",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{src:s.$withBase("/images/session1.png"),alt:"process"}}),s._v(" "),t("img",{staticStyle:{width:"200px"},attrs:{src:s.$withBase("/images/session2.png"),alt:"process"}}),s._v(" "),t("p",[s._v("解决方案 redis")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("web server最常用的缓存数据库，数据存放在内存中")]),s._v(" "),t("li",[s._v("相比于mysql,访问速度快(内存和硬盘不是一个数量级的)")]),s._v(" "),t("li",[s._v("但是成本更高，可存储的数据量更小(内存的硬伤)")]),s._v(" "),t("li",[s._v("将web server 和 redis拆分成为两个单独的服务")]),s._v(" "),t("li",[s._v("双方都是独立的，都是可扩展的(例如都扩展成集群)")]),s._v(" "),t("li",[s._v("(包括mysql，也是一个单独的服务，也可扩展)")])])]),s._v(" "),t("p",[s._v("为何session适合用redis？")]),s._v(" "),t("ul",[t("li",[s._v("session 访问频繁，对性能要求极高")]),s._v(" "),t("li",[s._v("session 可不考虑断电丢失数据的问题(内存的硬伤)")]),s._v(" "),t("li",[s._v("session 数据量不会太大(相比于mysql中存储的数据)")])]),s._v(" "),t("p",[s._v("为何网站数据不适合用redis ？")]),s._v(" "),t("ul",[t("li",[s._v("操作频率不是太高(相比于session操作)")]),s._v(" "),t("li",[s._v("断电不能丢失，必须保留")]),s._v(" "),t("li",[s._v("数据量太大，内存成本太高")])]),s._v(" "),t("h4",{attrs:{id:"nginx-介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" nginx 介绍")]),s._v(" "),t("ul",[t("li",[s._v("高性能的web服务器,开源免费")]),s._v(" "),t("li",[s._v("一般用于做静态服务、负载均衡")]),s._v(" "),t("li",[s._v("还有反向代理")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("// nginx 配置反向代理\nlocation / {\n  proxy_pass http://localhost:8001;\n}\nlocation /api/ {\n  proxy_pass http://localhost:8000;\n  proxy_set_header Host $host;\n}\n")])])])])},[],!1,null,null,null);i.default=a.exports}}]);