(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{254:function(a,t,e){"use strict";e.r(t);var s=e(0),r=Object(s.a)({},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h3",{attrs:{id:"koa2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#koa2","aria-hidden":"true"}},[a._v("#")]),a._v(" koa2")]),a._v(" "),e("ul",[e("li",[a._v("express中间件是异步回调，koa2原生支持async/await")]),a._v(" "),e("li",[a._v("新开发框架和系统，都开始基于koa2，例如egg.js")]),a._v(" "),e("li",[a._v("express虽然未过时，但是koa2肯定是未来趋势")])]),a._v(" "),e("h3",{attrs:{id:"async-await-要点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#async-await-要点","aria-hidden":"true"}},[a._v("#")]),a._v(" async await 要点:")]),a._v(" "),e("ul",[e("li",[a._v("await 后面可以追加 promise对象，获取resolve的值")]),a._v(" "),e("li",[a._v("await 必须包裹在 async函数里面")]),a._v(" "),e("li",[a._v("async 函数执行返回的也是一个promise对象")]),a._v(" "),e("li",[a._v("try-catch 截获 promise 中 reject 的值")])]),a._v(" "),e("h3",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npm install koa-generator -g\nkoa2 koa2-test\n")])])]),e("h3",{attrs:{id:"登录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#登录","aria-hidden":"true"}},[a._v("#")]),a._v(" 登录")]),a._v(" "),e("ul",[e("li",[a._v("基于koa-generic-session 和 koa-redis")])]),a._v(" "),e("h3",{attrs:{id:"日志"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日志","aria-hidden":"true"}},[a._v("#")]),a._v(" 日志")]),a._v(" "),e("ul",[e("li",[a._v("access log 记录，使用morgan")]),a._v(" "),e("li",[a._v("自定义日志使用 console.log 和 console.error")]),a._v(" "),e("li",[a._v("日志文件拆分，日志内存分析.")])]),a._v(" "),e("h3",{attrs:{id:"中间件实现分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#中间件实现分析","aria-hidden":"true"}},[a._v("#")]),a._v(" 中间件实现分析")]),a._v(" "),e("ul",[e("li",[a._v("app.use 用来注册中间件，先收集起来")]),a._v(" "),e("li",[a._v("实现next机制，即上一个通过next触发下一个")]),a._v(" "),e("li",[a._v("(不涉及method和path的判断)")])])])},[],!1,null,null,null);t.default=r.exports}}]);