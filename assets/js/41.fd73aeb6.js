(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{260:function(a,t,r){"use strict";r.r(t);var e=r(0),s=Object(e.a)({},function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h3",{attrs:{id:"日志"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#日志","aria-hidden":"true"}},[a._v("#")]),a._v(" 日志")]),a._v(" "),r("ul",[r("li",[a._v("系统没有日志，就等于人没有眼睛 抓瞎")]),a._v(" "),r("li",[a._v("第一，访问日志access log(server端最重要的日志)")]),a._v(" "),r("li",[a._v("第二，自定义日志(包括自定义事件、错误记录等)")])]),a._v(" "),r("h3",{attrs:{id:"目录"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#目录","aria-hidden":"true"}},[a._v("#")]),a._v(" 目录")]),a._v(" "),r("ul",[r("li",[a._v("nodejs 文件操作，nodejs stream")]),a._v(" "),r("li",[a._v("日志功能开发和使用")]),a._v(" "),r("li",[a._v("日志文件拆分，日志内容分析")])]),a._v(" "),r("h3",{attrs:{id:"nodejs-文件操作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-文件操作","aria-hidden":"true"}},[a._v("#")]),a._v(" nodejs 文件操作")]),a._v(" "),r("ul",[r("li",[a._v("日志要存储到文件中")]),a._v(" "),r("li",[a._v("为何不存储到mysql中？")]),a._v(" "),r("li",[a._v("为何不存储到redis中?")])]),a._v(" "),r("h3",{attrs:{id:"io操作的性能瓶颈"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#io操作的性能瓶颈","aria-hidden":"true"}},[a._v("#")]),a._v(" IO操作的性能瓶颈")]),a._v(" "),r("ul",[r("li",[a._v("IO包括 “网络IO” 和 “文件IO”")]),a._v(" "),r("li",[a._v("相比于CPU计算和内存读写，IO的突出特点就是：慢！")]),a._v(" "),r("li",[a._v("如何在有限的硬件资源下提高IO的操作效率？")])]),a._v(" "),r("h3",{attrs:{id:"日志拆分"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#日志拆分","aria-hidden":"true"}},[a._v("#")]),a._v(" 日志拆分")]),a._v(" "),r("ul",[r("li",[a._v("日志内容会慢慢积累，放在一个文件中不好处理")]),a._v(" "),r("li",[a._v("按时间划分日志文件，如2019-02-10.access.log")]),a._v(" "),r("li",[a._v("实现方式:linux的crontab命令，即定时任务")])]),a._v(" "),r("h3",{attrs:{id:"crontab"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#crontab","aria-hidden":"true"}},[a._v("#")]),a._v(" crontab")]),a._v(" "),r("ul",[r("li",[a._v("设置定时任务，格式: * * * * * command （分钟，小时，日期，月份，星期）")]),a._v(" "),r("li",[a._v("将access.log 拷贝并重命名为2019-02-10.access.log")]),a._v(" "),r("li",[a._v("清空access.log文件，继续积累日志")])]),a._v(" "),r("h3",{attrs:{id:"日志分析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#日志分析","aria-hidden":"true"}},[a._v("#")]),a._v(" 日志分析")]),a._v(" "),r("ul",[r("li",[a._v("如针对access.log日志，分析chrome的占比")]),a._v(" "),r("li",[a._v("日志是按行存储的，一行就是一条日志")]),a._v(" "),r("li",[a._v("使用nodejs的readline(基于stream，效率高)")])]),a._v(" "),r("h3",{attrs:{id:"日志-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#日志-总结","aria-hidden":"true"}},[a._v("#")]),a._v(" 日志-总结")]),a._v(" "),r("ul",[r("li",[a._v("日志对server端的重要性，相当于人的眼睛")]),a._v(" "),r("li",[a._v("IO性能瓶颈，使用stream提高性能，nodejs中如何操作？")]),a._v(" "),r("li",[a._v("使用crontab拆分日志文件，使用readline分析日志内容")])])])},[],!1,null,null,null);t.default=s.exports}}]);